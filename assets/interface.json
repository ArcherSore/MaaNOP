{
    "interface_version": 2,
    "name": "MaaNOP",
    "version": "v1.1.0",
    "controller": [
        {
            "name": "桌面端",
            "type": "Win32",
            "win32": {
                "class_regex": ".*",
                "window_regex": "火影忍者Online",
                "screencap": "PrintWindow",
                "mouse": "Seize",
                "keyboard": "Seize"
            }
        }
    ],
    "resource": [
        {
            "name": "QQ游戏大厅",
            "path": [ "./resource/" ]
        }
    ],
    "agent": {
        "child_exec": "python",
        "child_args": [
            "./agent/main.py"
        ]
    },
    "task": [
        {
            "name": "练小号",
            "entry": "AccountTraining",
            "description": "<span>1. 开始需要处于选服务器界面</span><br><span>2. 练级（小号1-16级）功能可以自动注册了，但是存在缓存问题未解决，长时间运行会导致脚本识别速度显著下降；中途卡住未发现导致脚本超时停止，无法中断继续，需要手动完成剩下部分</span><br><span>3. 领回归必须能领，否则勾选会出错</span><br><span>4. 领幻象必须要解锁，且不能弹窗战力已较大提升（如果有必须手动打一遍），否则勾选会出错</span><br><span>5. 领经验功能必须铜币足够，否则会出错</span>",
            "option": [ "服务器选择", "练级", "领经验", "领邮件", "领幻象", "领回归" ]
        }
    ],
    "option": {
        "服务器选择": {
            "type": "input",
            "label": "服务器范围",
            "description": "请输入服务器范围",
            "inputs": [
                {
                    "name": "server_range",
                    "label": "服务器范围",
                    "description": "输入服务器范围, 格式如: 10-16,18-20",
                    "default": "978-1012",
                    "pipeline_type": "string",
                    "verify": "^(?:\\d+(?:-\\d+)?)(?:,\\d+(?:-\\d+)?)*$",
                    "pattern_msg": "请输入正确格式, 如: 10-16,18-20"
                }
            ],
            "pipeline_override": {
                "ParseServer": {
                    "recognition": {
                        "type": "Custom",
                        "param": {
                            "custom_recognition": "ParseServerRange",
                            "custom_recognition_param": "{server_range}"
                        }
                    }
                }
            }
        },
        "练级": {
            "type": "select",
            "label": "练级",
            "description": "自动升到16级",
            "cases": [
                {
                    "name": "No",
                    "label": "不练级",
                    "pipeline_override": {
                        "LevelingEntry": {
                            "enabled": false
                        }
                    }
                },
                {
                    "name": "Yes",
                    "label": "练级",
                    "option": [ "练级起始步骤", "账号前缀" ]
                }
            ]
        },
        "练级起始步骤": {
            "type": "input",
            "label": "起始步骤",
            "description": "输入练级起始步骤",
            "inputs": [
                {
                    "name": "start_step",
                    "label": "起始步骤",
                    "description": "请输入LVstepxxx格式的步骤名称",
                    "default": "LVstep001",
                    "pipeline_type": "string",
                    "verify": "^LVstep\\d{3}$",
                    "pattern_msg": "请输入正确格式: LVstepxxx"
                }
            ],
            "pipeline_override": {
                "EnterGame": {
                    "next": "{start_step}"
                }
            }
        },
        "账号前缀": {
            "type": "input",
            "label": "账号前缀",
            "description": "实际名称为{前缀}_{server_id}",
            "inputs": [
                {
                    "name": "name_prefix",
                    "label": "账号前缀",
                    "default": "X",
                    "pipeline_type": "string"
                }
            ],
            "pipeline_override": {
                "GetAccountPrefix": {
                    "recognition": {
                        "type": "Custom",
                        "param": {
                            "custom_recognition": "GenerateAccountName",
                            "custom_recognition_param": "{name_prefix}"
                        }
                    }
                }
            }
        },
        "领经验": {
            "type": "switch",
            "label": "领经验",
            "description": "是否需要领取日常任务经验",
            "cases": [
                {
                    "name": "Yes",
                    "label": "领取"
                },
                {
                    "name": "No",
                    "label": "不领取",
                    "pipeline_override": {
                        "ClaimLevelEntry": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "领周年": {
            "type": "switch",
            "label": "领周年",
            "description": "是否需要领取周年奖励",
            "cases": [
                {
                    "name": "Yes",
                    "label": "领取"
                },
                {
                    "name": "No",
                    "label": "不领取",
                    "pipeline_override": {
                        "TrendingEntry": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "领回归": {
            "type": "switch",
            "label": "领回归",
            "description": "是否需要领取回归奖励",
            "cases": [
                {
                    "name": "Yes",
                    "label": "领取"
                },
                {
                    "name": "No",
                    "label": "不领取",
                    "pipeline_override": {
                        "ClaimReturnGiftEntry": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "领邮件": {
            "type": "switch",
            "label": "领邮件",
            "description": "是否需要领取邮件附件",
            "cases": [
                {
                    "name": "Yes",
                    "label": "领取"
                },
                {
                    "name": "No",
                    "label": "不领取",
                    "pipeline_override": {
                        "ClaimMailEntry": {
                            "enabled": false
                        }
                    }
                }
            ]
        },
        "领幻象": {
            "type": "switch",
            "label": "领幻象",
            "description": "是否需要领取幻象奖励",
            "cases": [
                {
                    "name": "Yes",
                    "label": "领取"
                },
                {
                    "name": "No",
                    "label": "不领取",
                    "pipeline_override": {
                        "ClaimInfiniteIllusionEntry": {
                            "enabled": false
                        }
                    }
                }
            ]
        }
    }
}